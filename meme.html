<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Meme Caption Maker â€¢ ToolifyPro</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script></head>
<body class="bg-slate-900 text-slate-100 min-h-screen p-6">
<a href="/" class="text-sm text-slate-300">&larr; Home</a>
<h1 class="text-2xl font-bold mt-4">Meme Caption Maker (Free)</h1>
<input id="file" type="file" accept="image/*" class="mt-4"/><br>
<input id="top" placeholder="Top text" class="mt-4 p-2 rounded bg-slate-800 w-full"/><br>
<input id="bottom" placeholder="Bottom text" class="mt-2 p-2 rounded bg-slate-800 w-full"/><br>
<button id="render" class="mt-4 px-4 py-2 bg-indigo-500 rounded">Render & Download</button>
<div id="out" class="mt-4"></div>
<script>
document.getElementById('file').addEventListener('change', e=>{
  const img = new Image();
  img.src = URL.createObjectURL(e.target.files[0]);
  img.onload = ()=> {
    window._mimg = img;
  };
});
document.getElementById('render').addEventListener('click', ()=>{
  const img = window._mimg;
  if(!img) return alert('Choose image');
  const c = document.createElement('canvas');
  const ctx = c.getContext('2d');
  c.width = img.width; c.height = img.height;
  ctx.drawImage(img,0,0);
  const font = Math.floor(c.width/10) + 'px Impact, Arial';
  ctx.font = font;
  ctx.fillStyle = 'white'; ctx.strokeStyle='black'; ctx.lineWidth = 4; ctx.textAlign='center';
  ctx.fillText(document.getElementById('top').value.toUpperCase(), c.width/2, 60);
  ctx.strokeText(document.getElementById('top').value.toUpperCase(), c.width/2, 60);
  ctx.fillText(document.getElementById('bottom').value.toUpperCase(), c.width/2, c.height - 20);
  ctx.strokeText(document.getElementById('bottom').value.toUpperCase(), c.width/2, c.height - 20);
  const out = document.getElementById('out');
  out.innerHTML = '';
  const imgEl = document.createElement('img');
  imgEl.src = c.toDataURL('image/jpeg');
  imgEl.style.maxWidth='100%';
  out.appendChild(imgEl);
  const a = document.createElement('a');
  a.href = imgEl.src; a.download='meme.jpg'; a.textContent='Download Image';
  out.appendChild(a);
});
</script>
</body></html>
